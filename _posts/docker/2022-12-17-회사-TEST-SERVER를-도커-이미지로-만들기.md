---
layout: post
title: 회사 TEST SERVER 도커 이미지로 만들기
tags: [docker, temp, note]
skills: [docker]
author: mainmethod0126
excerpt_separator: <!--more-->
---

# 회사 TEST SERVER를 도커 이미지로 만들기

집에서 회사 TEST SERVER 에 붙고 싶었으나 회사의 경우 내부 네트워크를 사용하지 않을 경우 접근을 할 수 없도록 되어있어 집에서 잠시 회사 업무를 보고자 하거나 공부를 하기위해 회사 TEST SERVER가 필요한 경우에 원격을 붙어서 작업을 해야했습니다.

문제는 이 원격이라는 것이 속도도 느리고 멀티 모니터 사용 및 단축키의 불편함을 느끼게 하기 때문에, 회사 TEST SERVER 와 같은 환경이 개인 PC에도 존재하면 좋겠다 라고 생각하여 도커 이미지로 하나 만들어 보기로 했습니다.

지금부터 한번 만들어 보겠습니다.

## 도커 파일

도커 파일이란 Docker 이미지를 빌드하기 위한 지침이 포함된 텍스트 파일입니다.

사용할 `기본 이미지`와 이미지에 필요한 `종속성` 및 `필수 패키지`를 지정합니다.
 를
Dockerfile은 웹 서버 시작 또는 스크립트 실행과 같이 `이미지가 시작될 때 실행할 명령`도 지정합니다.

간단히 요약하자면 도커 이미지를 생성하기 위한 `설계도` 입니다

만들어야 할 TEST SERVER의 요구사항은 아래와 같습니다.

- CentOS7.1908 버전을 사용해야한다.
- zulu JDK 8, 11, 14, 15, 17 이 설치되어야 한다.
- Nginx 는 1.20.2 가 설치되어야 한다.
- Elasticsearch 7.17.6 버전이 설치되어야 한다.

그럼 TEST SERVER를 만들기 위한 `도커 파일`을 만들어 보겠습니다.

### 도커 파일 만들기

#### 베이스 이미지 선택

베이스 이미지는 다른 이미지를 빌드하기 위한 시작점 입니다.

아무것도 존재하지 않고 단인 OS만 존재하는 이미지로 해당 베이스 이미지를 선택할 수도 있으며,
원하는 OS에 기본적인 셋팅이된 이미 만들어진 이미지를 사용할 수 있습니다.

이 베이스 이미지는 Docker Hub와 같은 공용 레지스트리에서 불러올 수 있습니다.

저는 CentOS7.1908 이라는 OS를 사용할 예정이라 베이스 이미지를 이 CentOS7.1908로 선택하겠습니다.

```dockerfile
FROM centos:7.1908
```

